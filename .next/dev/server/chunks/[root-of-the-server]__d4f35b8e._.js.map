{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/dh_lenovo_ideapad/FDR_DATALINK/app/api/data/%5Bfilename%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { PythonShell } from \"python-shell\";\nimport path from \"path\";\nimport fs from \"fs\";\n\nconst DATA_DIR = \"/home/dh_lenovo_ideapad/FlightDataNASA/data/Tail_666_9\";\n\nexport async function GET(\n    request: NextRequest,\n    { params }: { params: { filename: string } }\n) {\n    const { filename } = await params; // Next.js 15+ needs await on params in some cases, let's play safe\n    const filePath = path.join(DATA_DIR, filename);\n    const scriptPath = path.join(process.cwd(), \"lib\", \"extract_data.py\");\n\n    if (!fs.existsSync(filePath)) {\n        return NextResponse.json({ error: \"File not found\" }, { status: 404 });\n    }\n\n    try {\n        const results = await PythonShell.run(scriptPath, {\n            args: [filePath],\n        });\n\n        if (!results || results.length === 0) {\n            return NextResponse.json({ error: \"Failed to extract data\" }, { status: 500 });\n        }\n\n        const data = JSON.parse(results[0]);\n        return NextResponse.json(data);\n    } catch (err: any) {\n        return NextResponse.json({ error: err.message }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,WAAW;AAEV,eAAe,IAClB,OAAoB,EACpB,EAAE,MAAM,EAAoC;IAE5C,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,mEAAmE;IACtG,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,UAAU;IACrC,MAAM,aAAa,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO;IAEnD,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,WAAW;QAC1B,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiB,GAAG;YAAE,QAAQ;QAAI;IACxE;IAEA,IAAI;QACA,MAAM,UAAU,MAAM,yJAAW,CAAC,GAAG,CAAC,YAAY;YAC9C,MAAM;gBAAC;aAAS;QACpB;QAEA,IAAI,CAAC,WAAW,QAAQ,MAAM,KAAK,GAAG;YAClC,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAyB,GAAG;gBAAE,QAAQ;YAAI;QAChF;QAEA,MAAM,OAAO,KAAK,KAAK,CAAC,OAAO,CAAC,EAAE;QAClC,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,KAAU;QACf,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,IAAI,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACnE;AACJ"}}]
}